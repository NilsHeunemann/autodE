

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Changelog &mdash; autodE  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Citation" href="citation.html" />
    <link rel="prev" title="Transition States" href="examples/tss.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> autodE
          

          
          </a>

          
            
            
              <div class="version">
                1.0.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference/index.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/index.html">Examples</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id1">1.0.4</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#usability-improvements">Usability improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#functionality-improvements">Functionality improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id2">1.0.3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id3">Usability improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">Functionality improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id6">1.0.2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id7">Usability improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id8">Functionality improvements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id9">1.0.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id10">Usability improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id11">Functionality improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id12">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id13">1.0.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id14">Usability improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id15">Functionality improvements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#b3">1.0.0b3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id16">Usability improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id17">Functionality improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id18">Bug Fixes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="citation.html">Citation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">autodE</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Changelog</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/changelog.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="changelog">
<h1>Changelog<a class="headerlink" href="#changelog" title="Permalink to this headline">¶</a></h1>
<section id="id1">
<h2>1.0.4<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p>Bug fixes in SMILES parser and 3D geometry builder from 1.0.3.</p>
<section id="usability-improvements">
<h3>Usability improvements<a class="headerlink" href="#usability-improvements" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Improves doc strings</p></li>
<li><p>Throws interpertable error when calling <code class="code docutils literal notranslate"><span class="pre">find_tss</span></code>  without <code class="code docutils literal notranslate"><span class="pre">reaction.reactant</span></code> set</p></li>
</ul>
</section>
<section id="functionality-improvements">
<h3>Functionality improvements<a class="headerlink" href="#functionality-improvements" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>SMILES strings with &gt;9 ring closures are parsed correctly</p></li>
<li><p>cis-double bonds in rings no longer minimise with constraints, which is a little faster</p></li>
</ul>
</section>
<section id="bug-fixes">
<h3>Bug Fixes<a class="headerlink" href="#bug-fixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Tweaks repulsion parameters in minimisation to build fused rings</p></li>
<li><p>Enables SMILES parsing with “X(…)1” branching</p></li>
<li><p>Fixes spin multiplicity for odd numbers of hydrogens</p></li>
<li><p>Improves ring closure 3D build</p></li>
<li><p>Fixes incorrect implicit valency for aromatic heteroatoms</p></li>
<li><p>Improves metal finding in SMILES strings with regex</p></li>
<li><p>Corrects atom type for sp2 group 16 elements</p></li>
<li><p>Fixes dihedral rotation with atoms not close to any other</p></li>
</ul>
</section>
</section>
<section id="id2">
<h2>1.0.3<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p>A minor API revision from 1.0.2 but adds C++ extension which should be extensible to
further developments of fast C-based code.</p>
<section id="id3">
<h3>Usability improvements<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">autode.Species()</span></code> inherit from a <code class="code docutils literal notranslate"><span class="pre">AtomCollection()</span></code> base class for more flexibility</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">autode.Constants</span></code> attributes have more readable names (while retaining backwards compatability)</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">autode.geom.length()</span></code> as an explicit alias of <code class="code docutils literal notranslate"><span class="pre">np.linalg.norm</span></code> has been removed</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">autode.input_output.xyz_file_to_atoms()</span></code> throws more informative errors</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">autode.mol_graphs.make_graph()</span></code> throws NoAtomsInMolecule for a species with no atoms</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">species.formula</span></code> and <code class="code docutils literal notranslate"><span class="pre">species.is_explicitly_solvated</span></code> are now a properties</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">autode.smiles.parser</span></code> has been rewritten &amp; is (hopefully) a more robust SMILES parser</p></li>
</ul>
</section>
<section id="id4">
<h3>Functionality improvements<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Metal complex initial geometries can now be generated with the correct stereochemistry</p></li>
<li><p>Macrocycles default to an <strong>autodE</strong> builder that conserves SMILES stereochemistry (<a class="reference external" href="https://github.com/rdkit/rdkit/issues/1852">RDKit#1852</a>)</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">species.coordinates</span></code> can be set from either 3xN matrices or 3N length vectors</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">autode.Atom()`s</span> <span class="pre">have</span> <span class="pre">:code:</span></code>.group` <code class="code docutils literal notranslate"><span class="pre">.period</span></code> and <code class="code docutils literal notranslate"><span class="pre">.tm_row</span></code> properties referring to their location in the periodic table</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">autode.atoms.PeriodicTable</span></code> added</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">species.bond_matrix</span></code> added as a property and returns a boolean array for interactions between all atom pairs</p></li>
</ul>
</section>
<section id="id5">
<h3>Bug Fixes<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">reaction.calculate_complexes()</span></code> calls <code class="code docutils literal notranslate"><span class="pre">reaction.find_complexes()</span></code> if needed thus can be called in isolation</p></li>
</ul>
</section>
</section>
<section id="id6">
<h2>1.0.2<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<section id="id7">
<h3>Usability improvements<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Effective core potentials can now be specified in <code class="code docutils literal notranslate"><span class="pre">Keywords()</span></code></p></li>
<li><p>ORCA fitting basis sets now default to def2/J, which should be smaller but as accurate as AutoAux</p></li>
<li><p>Molecule initialisation from a .xyz file now checks for an odd number of electrons. For example, <code class="code docutils literal notranslate"><span class="pre">Molecule('H_atom.xyz')</span></code> will raise a <code class="code docutils literal notranslate"><span class="pre">ValueError</span></code> but <code class="code docutils literal notranslate"><span class="pre">Molecule('H_atom.xyz',</span> <span class="pre">charge=1)</span></code> or <code class="code docutils literal notranslate"><span class="pre">Molecule('H_atom.xyz',</span> <span class="pre">mult=2)</span></code> are acceptable</p></li>
</ul>
</section>
<section id="id8">
<h3>Functionality improvements<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">atom.atomic_number</span></code> has been added as an atom attribute</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">atom.atomic_symbol</span></code> is a more intuitive alias for <code class="code docutils literal notranslate"><span class="pre">atom.label</span></code></p></li>
</ul>
</section>
</section>
<section id="id9">
<h2>1.0.1<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<section id="id10">
<h3>Usability improvements<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Molecular complexes can now be initialised with a reasonable geometry <code class="code docutils literal notranslate"><span class="pre">Complex(...,</span> <span class="pre">do_init_translation=True)</span></code></p></li>
</ul>
</section>
<section id="id11">
<h3>Functionality improvements<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">species.radius</span></code> has been added as an approximate molecular radius (in Angstroms, excluding VdW radii)</p></li>
</ul>
</section>
<section id="id12">
<h3>Bug Fixes<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Final breaking bond distances are now the minimum of the product X-Y distance if present in the product, or 2x the distance. This is required for breaking bonds that cross a ring.</p></li>
<li><p>Neighbour lists for comparing possibly equivalent bond rearrangements are now compared using a sorted list</p></li>
</ul>
</section>
</section>
<section id="id13">
<h2>1.0.0<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p>The first stable release! Mostly documentation updates from v.1.0.0b3 with the
package now being conda-install-able.</p>
<section id="id14">
<h3>Usability improvements<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>More documentation</p></li>
</ul>
</section>
<section id="id15">
<h3>Functionality improvements<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>XTB wrapper now supports v. 6.4 (and hopefully higher)</p></li>
</ul>
<p>Thanks to Joe, Alistair, Matina, Kjell, Gabe, Cher-Tian amongst others for their invaluable contributions.</p>
</section>
</section>
<section id="b3">
<h2>1.0.0b3<a class="headerlink" href="#b3" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p>This version brings several major changes and in some instances breaks
backwards compatibility, but does feature significant improvements in speed
and accuracy for finding transition states.</p>
<section id="id16">
<h3>Usability improvements<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">species.get_distance(i,</span> <span class="pre">j)</span></code> is now <code class="code docutils literal notranslate"><span class="pre">species.distance(i,</span> <span class="pre">j)</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">species.set_atoms(new_atoms)</span></code>  is now properly handled with a setter so <code class="code docutils literal notranslate"><span class="pre">species.atoms</span> <span class="pre">=</span> <span class="pre">new_atoms</span></code> will set the new atoms</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">species.n_atoms</span></code> is more robust</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">species.get_coordinates()</span></code> is now <code class="code docutils literal notranslate"><span class="pre">species.coordinates</span></code>, returning a numpy array copy of the species coordinates (Nx3 in Å)</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">species.centre()</span></code> will translate a species so it’s coordinate centroid lies at the origin</p></li>
<li><p>PBE0/def2-SVP is now the default ‘low opt’ method (<cite>keywords.low_opt</cite>) with loose optimisation. Path exploration uses this method, thus it needs to be very close to the ‘opt’ level</p></li>
</ul>
</section>
<section id="id17">
<h3>Functionality improvements<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>1D, 2D potential energy surface scans and nudged elastic band (NEB) methods to generate TS guesses from reactants have been replaced by an adaptive path search which seems to be very efficient for generating initial paths</p></li>
</ul>
<p>For the prototypical SN2 between fluoride and methyl chloride the relaxed PES (PBE0-D3BJ/ma-def2-SVP/CPCM(water)) is</p>
<a class="reference internal image-reference" href="_images/adapt_surface_sn2.png"><img alt="_images/adapt_surface_sn2.png" src="_images/adapt_surface_sn2.png" style="width: 500px;" /></a>
<p>where the previously employed linear path (red) is compared to the adaptive scheme (blue, purple) and the ‘true’ intrinsic reaction coordinate.
With a small minimum step size a path very close to the MEP is traversed with a very small number of required constrained optimisations. This
enables NEB relaxations to be skipped and the associated limitations (corner cutting, oscillating path, optimisation in Cartesian coordinates)
avoided. This exploration is essential when a linear path over multiple bonds leads to rearrangements, e.g. an (E2) elimination reaction the
comparison for the linear, adaptive and IRC paths are shown below</p>
<ul class="simple">
<li><p>(CI)-NEB with adaptive force constant has been added</p></li>
<li><p>Initial path exploration from reactants is performed at the ‘low_opt’ level with a final breaking bond distance below.</p></li>
</ul>
<p>Previous implementations made use of a 1.5 Å additional shift for uncharged reactions
and 2.5 Å for charged, this however lead to possible final C-H distances of ~3.6 Å and steps
into unphysical regions. 1.0.0b3 uses an estimate based on the distance where the bond
is mostly broken, as below</p>
<img alt="_images/XY_bde_XTB.png" src="_images/XY_bde_XTB.png" />
<p>where X-Y corresponds to a molecule e.g. C-C with the appropriate hydrogens added
then the BDE curve calculated at the GFN2-XTB level of theory. A multiplier of ~2 affords a
‘mostly broken bond’ (i.e. the distance at 3/4 of energy of the broken bond).</p>
<ul class="simple">
<li><p>There is now a heuristic used to skip TSs that go via small rings (3, 4-membered) if there is a &gt;4-membered equivalent (<code class="code docutils literal notranslate"><span class="pre">ade.Config.skip_small_ring_tss</span></code>)</p></li>
</ul>
</section>
<section id="id18">
<h3>Bug Fixes<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Calculations are now unique based on constraints, so NEB calculations executed in the same directory are not skipped with different bond rearrangements</p></li>
</ul>
</section>
</section>
</section>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="citation.html" class="btn btn-neutral float-right" title="Citation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="examples/tss.html" class="btn btn-neutral float-left" title="Transition States" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Tom Young, Joseph Silcock

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>